package insecure

import (
	"crypto/tls"
	"crypto/x509"
	"log"
)

const certPEM = `-----BEGIN CERTIFICATE-----
MIIFzTCCA7WgAwIBAgIUfNIqteIsi4xQ65Yp+mtMn2Yj33IwDQYJKoZIhvcNAQEL
BQAwdjELMAkGA1UEBhMCQVUxEzARBgNVBAgMClNvbWUtU3RhdGUxDzANBgNVBAcM
BkJ5c3RyYTEhMB8GA1UECgwYSW50ZXJuZXQgV2lkZ2l0cyBQdHkgTHRkMR4wHAYJ
KoZIhvcNAQkBFg9rYWNwZXJAbWFpbC5jb20wHhcNMjIwNjA5MjEyNDQ5WhcNMjMw
NjA5MjEyNDQ5WjB2MQswCQYDVQQGEwJBVTETMBEGA1UECAwKU29tZS1TdGF0ZTEP
MA0GA1UEBwwGQnlzdHJhMSEwHwYDVQQKDBhJbnRlcm5ldCBXaWRnaXRzIFB0eSBM
dGQxHjAcBgkqhkiG9w0BCQEWD2thY3BlckBtYWlsLmNvbTCCAiIwDQYJKoZIhvcN
AQEBBQADggIPADCCAgoCggIBAMfYrhSheOzaRc8CltSNOrVy4Ophp+ginhIOzPAs
mNtBS7bORzLqLb3Dgr0JrjxJtSSKTC+EBM9MqsByUE2PROW0LtyQoJnqju9iV350
g2ql6MtnwmjlScaid8R9vhytET0oL4Qf0u4U1tUyuo+rcADbitJZNmg45zza596e
KXS18IKHtpTTvO1gs78FL36ja+d2iqUxLXvBK+Enk+Mz1xeFn0eZFocT9Lp+tsxv
/UlwljKAqOvDLeJeRfcCP90LSiLNCj4yGDIZHCFkE+ZI84TfElgwKszFvyGfRHTy
6gYOSpqu6n+7sdKTFzjzndnt8pfd8/Jco1GFiez1GWo1LyHZp+SnVIJ3/Rpz8sfT
cihheaRIiavsYjlzLjndY4H1ky2O8j1+DkYYljRhCP+R/E4uYlvkW1LkcGLBy0ZI
58mctUhGnSlH6m2kgZHxXlFDtXIvpIglwCx2VsqcSl7jbzmOWyV6HPdbAhVEvY00
aGoSQEVMOqb1MpRjXm/c/iuGkZP740KLfrA7WxDD6rVhlPrcf1MZ0Dfqwm+OV13Z
5qQ8JxSo3pD5g274i+MMRZ5L+jmg8YHL5vmb1mBVGHvA6f6beY4bXZ9aoou0G178
Z6mJMP/2Q1L6X+jzZc3nt2mw/NwTCAyW2T2eQnpa+RTnvdwLBPia0fdP0P5tLt/U
8ZX5AgMBAAGjUzBRMB0GA1UdDgQWBBS0GAVZ0DHZzkXZfo5Y6emL2TqxxTAfBgNV
HSMEGDAWgBS0GAVZ0DHZzkXZfo5Y6emL2TqxxTAPBgNVHRMBAf8EBTADAQH/MA0G
CSqGSIb3DQEBCwUAA4ICAQBgtiRb+wzXk7ndyqYJe7VUuJzUxRyK5Q8rSi+8gZZx
yYwm0uHeyTvVFo55JceNNBbdQjbIOl/y3sXUn4oRTmbloQ5Rcczw4k6sUC8gglFK
wQB4e7BngxlPjCArHwp0ElOuNXhIYVHlgtOSjDT4MDGaTiYtI0tTcrC45dUxhFAs
EGUnVd4IsQBUeTKUejgaXJakgi3UcWodf3OsUKhjqGEmEvrivA63UM3esOoHAj9D
uHggityg3wdqtGfkCKI4A5aDwVdniXyVXWqibaFDmxJRApkq3Ep3AUjVRBL5A3pf
WvNe8iJCONMRREr125BDr6pY4pbpqc0StH3OB32+/4+cR3M5dDd1IcZM1WuFTx3H
U/NE22hBXxfl7hQWZ+k7/NFaSyt3iw/vecWsRIEM1qNSDd8iyfEj8OIEP+cgVFV/
aUCzvRs3DwStS74WYfR2/rxeTpHGtOpvEw/N1sMnO0Wuu5xjuQ7wgyH7lobm+82+
6CjIz+JuZu/KS1RIOt+vlj7mO1qr1Xg20+FjBHhLNkLs03ZHh4n0/LeTqF1vhGrk
g9CrygxUirF2kR4Oqa3SUZYv2aCtlUmg87FQEpbNW5iNohasYinyv+1kwUEA5AZA
XUarr5SkJ0dQUt3YKNsp7UUPIgZijrV9cI5Cak5S1UghDuCw4A5dMtS8oPbQ8yGu
/w==
-----END CERTIFICATE-----
`

const keyPEM = `-----BEGIN PRIVATE KEY-----
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
VZg2mWWz0RLYLGx32UJGNglxLym8
-----END PRIVATE KEY-----
`

var (
	// Cert is a self signed certificate
	Cert tls.Certificate
	// CertPool contains the self signed certificate
	CertPool *x509.CertPool
)

func init() {
	var err error
	Cert, err = tls.X509KeyPair([]byte(certPEM), []byte(keyPEM))
	if err != nil {
		log.Fatalln("Failed to parse key pair:", err)
	}
	Cert.Leaf, err = x509.ParseCertificate(Cert.Certificate[0])
	if err != nil {
		log.Fatalln("Failed to parse certificate:", err)
	}

	CertPool = x509.NewCertPool()
	CertPool.AddCert(Cert.Leaf)
}
